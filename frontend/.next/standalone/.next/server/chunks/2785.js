"use strict";exports.id=2785,exports.ids=[2785],exports.modules={821:(e,s,a)=>{a.a(e,async(e,r)=>{try{a.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var t=a(997),i=a(6689),n=a(6197),l=a(9483),o=a(8621),c=a(9858),x=a(1222),d=a(1408),m=a(6309),h=a(8216),u=a(9525),p=a(3761),b=a(4199),f=a(7569),g=a(8142),j=a(5019),v=a(9455),N=a(1352),y=a(8971),w=a(8051),Z=a(7232),S=a(7764),_=a(6789),C=a(4530),G=a(1144),U=a(5843),P=a(1163),E=e([n,C,G,U]);[n,C,G,U]=E.then?(await E)():E;let __WEBPACK_DEFAULT_EXPORT__=({children:e,title:s})=>{var a,r,E,F,A,I,k,z,B,L,R,V,$;let[D,T]=(0,i.useState)(!1),{logout:K,role:M,tenantId:O,user:W}=(0,G.aC)(),X=(0,P.useRouter)(),[q,H]=(0,i.useState)(null),handleLogout=()=>{K(),X.push("/login")};(0,i.useEffect)(()=>{let fetchUserInfo=async()=>{try{let e=await (0,U.bG)();H(e)}catch(e){console.error("Erro ao buscar informa\xe7\xf5es do usu\xe1rio:",e)}};W&&fetchUserInfo()},[W]);let[J,Q]=(0,i.useState)((()=>{let e=new Set;return s&&["Empresas","Business Units","Usu\xe1rios","Plano de Contas","Grupos","Subgrupos","Importar CSV","Importar Google Sheets","Permiss\xf5es de Usu\xe1rio"].includes(s)&&e.add("Configura\xe7\xf5es"),e})()),toggleMenu=e=>{let s=new Set(J);s.has(e)?s.delete(e):s.add(e),Q(s)},Y=[{icon:t.jsx(l.Z,{className:"w-5 h-5"}),label:"Dashboard",href:"/dashboard",active:(a="/dashboard",X.pathname===a||!!s&&"Dashboard"===s),description:"Vis\xe3o geral do sistema"},{icon:t.jsx(o.Z,{className:"w-5 h-5"}),label:"Lan\xe7amentos Financeiros",href:"/transactions",active:(r="/transactions",X.pathname===r||!!s&&"Lan\xe7amentos Financeiros"===s),description:"Lan\xe7amentos di\xe1rios com estrutura da planilha (Grupo, Subgrupo, Conta)"},{icon:t.jsx(c.Z,{className:"w-5 h-5"}),label:"Previs\xf5es Financeiras",href:"/financial-forecasts",active:(E="/financial-forecasts",X.pathname===E||!!s&&"Previs\xf5es Financeiras"===s),description:"Gerenciar previs\xf5es financeiras e importar CSV"},{icon:t.jsx(x.Z,{className:"w-5 h-5"}),label:"Relat\xf3rios",href:"/reports",active:(F="/reports",X.pathname===F||!!s&&"Relat\xf3rios"===s),description:"Relat\xf3rios e an\xe1lises"},{icon:t.jsx(d.Z,{className:"w-5 h-5"}),label:"Configura\xe7\xf5es",href:null,active:!1,description:"Configura\xe7\xf5es do sistema",hasSubmenu:!0,submenu:[{icon:t.jsx(m.Z,{className:"w-4 h-4"}),label:"Empresas",href:"/companies",active:(A="/companies",X.pathname===A||!!s&&"Empresas"===s),description:"Gerenciar empresas (tenants)"},{icon:t.jsx(h.Z,{className:"w-4 h-4"}),label:"Business Units",href:"/business-units",active:(I="/business-units",X.pathname===I||!!s&&"Business Units"===s),description:"Gerenciar business units"},{icon:t.jsx(u.Z,{className:"w-4 h-4"}),label:"Usu\xe1rios",href:"/users",active:(k="/users",X.pathname===k||!!s&&"Usu\xe1rios"===s),description:"Gerenciar usu\xe1rios do sistema"},{icon:t.jsx(p.Z,{className:"w-4 h-4"}),label:"Plano de Contas",href:"/chart-accounts",active:(z="/chart-accounts",X.pathname===z||!!s&&"Plano de Contas"===s),description:"Estrutura cont\xe1bil da empresa"},{icon:t.jsx(b.Z,{className:"w-4 h-4"}),label:"Grupos",href:"/groups",active:(B="/groups",X.pathname===B||!!s&&"Grupos"===s),description:"Gerenciar grupos do plano de contas"},{icon:t.jsx(f.Z,{className:"w-4 h-4"}),label:"Subgrupos",href:"/subgroups",active:(L="/subgroups",X.pathname===L||!!s&&"Subgrupos"===s),description:"Gerenciar subgrupos do plano de contas"},{icon:t.jsx(g.Z,{className:"w-4 h-4"}),label:"Importar CSV",href:"/csv-import",active:(R="/csv-import",X.pathname===R||!!s&&"Importar CSV"===s),description:"Importar dados via arquivo CSV"},{icon:t.jsx(j.Z,{className:"w-4 h-4"}),label:"Importar Google Sheets",href:"/google-sheets-import",active:(V="/google-sheets-import",X.pathname===V||!!s&&"Importar Google Sheets"===s),description:"Importar dados da metodologia Ana Paula via Google Sheets"},{icon:t.jsx(v.Z,{className:"w-4 h-4"}),label:"Permiss\xf5es de Usu\xe1rio",href:"/user-permissions",active:($="/user-permissions",X.pathname===$||!!s&&"Permiss\xf5es de Usu\xe1rio"===s),description:"Gerenciar permiss\xf5es de usu\xe1rio por empresa/BU"}]}],Sidebar=({mobile:e=!1})=>(0,t.jsxs)(n.motion.div,{initial:e?{x:-300}:{x:0},animate:{x:0},exit:e?{x:-300}:{x:0},transition:{duration:.3},className:`bg-white border-r border-gray-200 flex flex-col ${e?"fixed inset-y-0 left-0 z-50 w-80 lg:hidden":"hidden lg:flex w-80"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-lg",children:"F"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"FinaFlow"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Gest\xe3o Financeira"})]})]}),e&&t.jsx(C.Z,{variant:"ghost",size:"sm",onClick:()=>T(!1),icon:t.jsx(N.Z,{className:"w-5 h-5"})})]}),t.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:t.jsx("div",{className:"space-y-2",children:Y.map(e=>t.jsx("div",{children:e.hasSubmenu?(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{onClick:()=>toggleMenu(e.label),className:`flex items-center justify-between w-full px-3 py-2 rounded-lg transition-colors group ${e.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,title:e.description,children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:e.active?"text-blue-600":"text-gray-400 group-hover:text-gray-600",children:e.icon}),t.jsx("span",{className:"font-medium",children:e.label})]}),t.jsx(y.Z,{className:`w-4 h-4 transition-transform ${J.has(e.label)?"rotate-180":""}`})]}),J.has(e.label)&&t.jsx("div",{className:"ml-6 mt-2 space-y-1",children:e.submenu?.map(e=>t.jsxs("a",{href:e.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors group ${e.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,title:e.description,children:[t.jsx("span",{className:e.active?"text-blue-600":"text-gray-400 group-hover:text-gray-600",children:e.icon}),t.jsx("span",{className:"font-medium text-sm",children:e.label})]},e.href))})]}):(0,t.jsxs)("a",{href:e.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors group ${e.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,title:e.description,children:[t.jsx("span",{className:e.active?"text-blue-600":"text-gray-400 group-hover:text-gray-600",children:e.icon}),t.jsx("span",{className:"font-medium",children:e.label})]})},e.label))})}),(0,t.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-medium",children:q?.first_name?.charAt(0)||W?.first_name?.charAt(0)||"A"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:q?.first_name||W?.first_name||"Usu\xe1rio"}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:q?.email||W?.email||"email@exemplo.com"}),q?.tenant_name&&t.jsx("p",{className:"text-xs text-blue-600 font-medium",children:q.tenant_name}),q?.business_unit_name&&t.jsx("p",{className:"text-xs text-green-600 font-medium",children:q.business_unit_name})]})]}),t.jsx(C.Z,{variant:"ghost",size:"sm",onClick:handleLogout,icon:t.jsx(w.Z,{className:"w-4 h-4"}),className:"w-full mt-3 justify-start text-gray-600 hover:text-red-600 hover:bg-red-50",children:"Sair do Sistema"})]})]});return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[t.jsx(Sidebar,{}),D&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>T(!1)}),t.jsx(n.AnimatePresence,{children:D&&t.jsx(Sidebar,{mobile:!0})})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(C.Z,{variant:"ghost",size:"sm",onClick:()=>T(!0),icon:t.jsx(Z.Z,{className:"w-5 h-5"}),className:"lg:hidden"}),s&&t.jsx("h1",{className:"ml-4 lg:ml-0 text-2xl font-semibold text-gray-900",children:s})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"hidden md:block relative",children:[t.jsx(S.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Buscar no sistema...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64"})]}),t.jsx(C.Z,{variant:"ghost",size:"sm",icon:t.jsx(_.Z,{className:"w-5 h-5"}),className:"relative",children:t.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})}),t.jsx("div",{className:"relative",children:t.jsx(C.Z,{variant:"ghost",size:"sm",icon:t.jsx(y.Z,{className:"w-4 h-4"}),className:"flex items-center space-x-2",children:t.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"A"})})})})]})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:t.jsx(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"h-full",children:e})})]})]})};r()}catch(e){r(e)}})}};