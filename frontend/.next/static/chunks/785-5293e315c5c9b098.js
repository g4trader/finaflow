"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{2785:function(e,s,a){var r=a(5893),t=a(7294),i=a(607),l=a(3114),n=a(9483),o=a(8621),c=a(9858),d=a(1222),x=a(1408),m=a(6309),u=a(8216),h=a(9525),p=a(3761),b=a(4199),f=a(7569),g=a(8142),v=a(5019),j=a(9455),N=a(1352),y=a(8971),w=a(8051),Z=a(7232),S=a(7764),C=a(6789),G=a(4530),_=a(1144),k=a(5843),U=a(1163);s.Z=e=>{var s,a,E,I,z,F,P,B,V,A,L,M,R;let{children:D,title:H}=e,[q,T]=(0,t.useState)(!1),{logout:W,role:J,tenantId:K,user:O}=(0,_.aC)(),Q=(0,U.useRouter)(),[X,Y]=(0,t.useState)(null),handleLogout=()=>{W(),Q.push("/login")};(0,t.useEffect)(()=>{let fetchUserInfo=async()=>{try{let e=await (0,k.bG)();Y(e)}catch(e){console.error("Erro ao buscar informa\xe7\xf5es do usu\xe1rio:",e)}};O&&fetchUserInfo()},[O]);let[$,ee]=(0,t.useState)((()=>{let e=new Set;return H&&["Empresas","Business Units","Usu\xe1rios","Plano de Contas","Grupos","Subgrupos","Importar CSV","Importar Google Sheets","Permiss\xf5es de Usu\xe1rio"].includes(H)&&e.add("Configura\xe7\xf5es"),e})()),toggleMenu=e=>{let s=new Set($);s.has(e)?s.delete(e):s.add(e),ee(s)},es=[{icon:(0,r.jsx)(n.Z,{className:"w-5 h-5"}),label:"Dashboard",href:"/dashboard",active:(s="/dashboard",Q.pathname===s||!!H&&"Dashboard"===H),description:"Vis\xe3o geral do sistema"},{icon:(0,r.jsx)(o.Z,{className:"w-5 h-5"}),label:"Lan\xe7amentos Financeiros",href:"/transactions",active:(a="/transactions",Q.pathname===a||!!H&&"Lan\xe7amentos Financeiros"===H),description:"Lan\xe7amentos di\xe1rios com estrutura da planilha (Grupo, Subgrupo, Conta)"},{icon:(0,r.jsx)(c.Z,{className:"w-5 h-5"}),label:"Previs\xf5es Financeiras",href:"/financial-forecasts",active:(E="/financial-forecasts",Q.pathname===E||!!H&&"Previs\xf5es Financeiras"===H),description:"Gerenciar previs\xf5es financeiras e importar CSV"},{icon:(0,r.jsx)(d.Z,{className:"w-5 h-5"}),label:"Relat\xf3rios",href:"/reports",active:(I="/reports",Q.pathname===I||!!H&&"Relat\xf3rios"===H),description:"Relat\xf3rios e an\xe1lises"},{icon:(0,r.jsx)(x.Z,{className:"w-5 h-5"}),label:"Configura\xe7\xf5es",href:null,active:!1,description:"Configura\xe7\xf5es do sistema",hasSubmenu:!0,submenu:[{icon:(0,r.jsx)(m.Z,{className:"w-4 h-4"}),label:"Empresas",href:"/companies",active:(z="/companies",Q.pathname===z||!!H&&"Empresas"===H),description:"Gerenciar empresas (tenants)"},{icon:(0,r.jsx)(u.Z,{className:"w-4 h-4"}),label:"Business Units",href:"/business-units",active:(F="/business-units",Q.pathname===F||!!H&&"Business Units"===H),description:"Gerenciar business units"},{icon:(0,r.jsx)(h.Z,{className:"w-4 h-4"}),label:"Usu\xe1rios",href:"/users",active:(P="/users",Q.pathname===P||!!H&&"Usu\xe1rios"===H),description:"Gerenciar usu\xe1rios do sistema"},{icon:(0,r.jsx)(p.Z,{className:"w-4 h-4"}),label:"Plano de Contas",href:"/chart-accounts",active:(B="/chart-accounts",Q.pathname===B||!!H&&"Plano de Contas"===H),description:"Estrutura cont\xe1bil da empresa"},{icon:(0,r.jsx)(b.Z,{className:"w-4 h-4"}),label:"Grupos",href:"/groups",active:(V="/groups",Q.pathname===V||!!H&&"Grupos"===H),description:"Gerenciar grupos do plano de contas"},{icon:(0,r.jsx)(f.Z,{className:"w-4 h-4"}),label:"Subgrupos",href:"/subgroups",active:(A="/subgroups",Q.pathname===A||!!H&&"Subgrupos"===H),description:"Gerenciar subgrupos do plano de contas"},{icon:(0,r.jsx)(g.Z,{className:"w-4 h-4"}),label:"Importar CSV",href:"/csv-import",active:(L="/csv-import",Q.pathname===L||!!H&&"Importar CSV"===H),description:"Importar dados via arquivo CSV"},{icon:(0,r.jsx)(v.Z,{className:"w-4 h-4"}),label:"Importar Google Sheets",href:"/google-sheets-import",active:(M="/google-sheets-import",Q.pathname===M||!!H&&"Importar Google Sheets"===H),description:"Importar dados da metodologia Ana Paula via Google Sheets"},{icon:(0,r.jsx)(j.Z,{className:"w-4 h-4"}),label:"Permiss\xf5es de Usu\xe1rio",href:"/user-permissions",active:(R="/user-permissions",Q.pathname===R||!!H&&"Permiss\xf5es de Usu\xe1rio"===H),description:"Gerenciar permiss\xf5es de usu\xe1rio por empresa/BU"}]}],Sidebar=e=>{var s,a;let{mobile:t=!1}=e;return(0,r.jsxs)(i.E.div,{initial:t?{x:-300}:{x:0},animate:{x:0},exit:t?{x:-300}:{x:0},transition:{duration:.3},className:"bg-white border-r border-gray-200 flex flex-col ".concat(t?"fixed inset-y-0 left-0 z-50 w-80 lg:hidden":"hidden lg:flex w-80"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold text-lg",children:"F"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"FinaFlow"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Gest\xe3o Financeira"})]})]}),t&&(0,r.jsx)(G.Z,{variant:"ghost",size:"sm",onClick:()=>T(!1),icon:(0,r.jsx)(N.Z,{className:"w-5 h-5"})})]}),(0,r.jsx)("nav",{className:"flex-1 overflow-y-auto p-4",children:(0,r.jsx)("div",{className:"space-y-2",children:es.map(e=>{var s;return(0,r.jsx)("div",{children:e.hasSubmenu?(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{onClick:()=>toggleMenu(e.label),className:"flex items-center justify-between w-full px-3 py-2 rounded-lg transition-colors group ".concat(e.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),title:e.description,children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:e.active?"text-blue-600":"text-gray-400 group-hover:text-gray-600",children:e.icon}),(0,r.jsx)("span",{className:"font-medium",children:e.label})]}),(0,r.jsx)(y.Z,{className:"w-4 h-4 transition-transform ".concat($.has(e.label)?"rotate-180":"")})]}),$.has(e.label)&&(0,r.jsx)("div",{className:"ml-6 mt-2 space-y-1",children:null===(s=e.submenu)||void 0===s?void 0:s.map(e=>(0,r.jsxs)("a",{href:e.href,className:"flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors group ".concat(e.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),title:e.description,children:[(0,r.jsx)("span",{className:e.active?"text-blue-600":"text-gray-400 group-hover:text-gray-600",children:e.icon}),(0,r.jsx)("span",{className:"font-medium text-sm",children:e.label})]},e.href))})]}):(0,r.jsxs)("a",{href:e.href,className:"flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors group ".concat(e.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),title:e.description,children:[(0,r.jsx)("span",{className:e.active?"text-blue-600":"text-gray-400 group-hover:text-gray-600",children:e.icon}),(0,r.jsx)("span",{className:"font-medium",children:e.label})]})},e.label)})})}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:(null==X?void 0:null===(s=X.first_name)||void 0===s?void 0:s.charAt(0))||(null==O?void 0:null===(a=O.first_name)||void 0===a?void 0:a.charAt(0))||"A"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 truncate",children:(null==X?void 0:X.first_name)||(null==O?void 0:O.first_name)||"Usu\xe1rio"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 truncate",children:(null==X?void 0:X.email)||(null==O?void 0:O.email)||"email@exemplo.com"}),(null==X?void 0:X.tenant_name)&&(0,r.jsx)("p",{className:"text-xs text-blue-600 font-medium",children:X.tenant_name}),(null==X?void 0:X.business_unit_name)&&(0,r.jsx)("p",{className:"text-xs text-green-600 font-medium",children:X.business_unit_name})]})]}),(0,r.jsx)(G.Z,{variant:"ghost",size:"sm",onClick:handleLogout,icon:(0,r.jsx)(w.Z,{className:"w-4 h-4"}),className:"w-full mt-3 justify-start text-gray-600 hover:text-red-600 hover:bg-red-50",children:"Sair do Sistema"})]})]})};return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)(Sidebar,{}),q&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>T(!1)}),(0,r.jsx)(l.M,{children:q&&(0,r.jsx)(Sidebar,{mobile:!0})})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,r.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(G.Z,{variant:"ghost",size:"sm",onClick:()=>T(!0),icon:(0,r.jsx)(Z.Z,{className:"w-5 h-5"}),className:"lg:hidden"}),H&&(0,r.jsx)("h1",{className:"ml-4 lg:ml-0 text-2xl font-semibold text-gray-900",children:H})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"hidden md:block relative",children:[(0,r.jsx)(S.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar no sistema...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64"})]}),(0,r.jsx)(G.Z,{variant:"ghost",size:"sm",icon:(0,r.jsx)(C.Z,{className:"w-5 h-5"}),className:"relative",children:(0,r.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(G.Z,{variant:"ghost",size:"sm",icon:(0,r.jsx)(y.Z,{className:"w-4 h-4"}),className:"flex items-center space-x-2",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white text-sm font-medium",children:"A"})})})})]})]})}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"h-full",children:D})})]})]})}},4530:function(e,s,a){var r=a(5893);a(7294);var t=a(607);s.Z=e=>{let{children:s,variant:a="primary",size:i="md",loading:l=!1,icon:n,iconPosition:o="left",fullWidth:c=!1,className:d="",disabled:x,type:m="button",...u}=e,h=["btn focus-ring transition-all duration-200 font-medium",{primary:"btn-primary",secondary:"btn-secondary",success:"btn-success",danger:"btn-danger",ghost:"text-gray-600 hover:text-gray-900 hover:bg-gray-100",outline:"btn-outline"}[a],{sm:"btn-sm",md:"btn-md",lg:"btn-lg"}[i],c?"w-full":"",d].filter(Boolean).join(" ");return(0,r.jsxs)(t.E.button,{whileHover:{scale:x||l?1:1.02},whileTap:{scale:x||l?1:.98},className:h,disabled:!!x||l,type:m,...u,children:[l&&(0,r.jsx)(()=>(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),{}),!l&&n&&"left"===o&&(0,r.jsx)("span",{className:"mr-2",children:n}),s,!l&&n&&"right"===o&&(0,r.jsx)("span",{className:"ml-2",children:n})]})}}}]);